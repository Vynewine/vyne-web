<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Promotion Code Details</h3>
  </div>
  <ul class="list-group">
    <li class="list-group-item">
      <div class="row">
        <div class="col-md-12">
          <strong>Id:</strong>
          <%= @promotion_code.id %>
        </div>
      </div>
    </li>
    <li class="list-group-item">
      <div class="row">
        <div class="col-md-12">
          <strong>Promotion:</strong>
          <%= link_to admin_promotion_path(@promotion_code.promotion) do %>
              <%= @promotion_code.promotion.title %>
          <% end %>
        </div>
      </div>
    </li>
    <li class="list-group-item">
      <div class="row">
        <div class="col-md-12">
          <strong>Category:</strong>
          <%= @promotion_code.category %>
        </div>
      </div>
    </li>

    <% unless @promotion_code.user.blank? %>
        <li class="list-group-item">
          <div class="row">
            <div class="col-md-12">
              <strong>User:</strong>
              <%= link_to admin_user_path(@promotion_code.user) do %>
                  <%= "#{@promotion_code.user.name} - #{@promotion_code.user.email}" %>
              <% end %>
            </div>
          </div>
        </li>
    <% end %>

    <li class="list-group-item">
      <div class="row">
        <div class="col-md-12">
          <strong>Code:</strong>
          <%= @promotion_code.code %>
        </div>
      </div>
    </li>

    <li class="list-group-item">
      <div class="row">
        <div class="col-md-12">
          <strong>Active:</strong>
          <%= @promotion_code.active %>
        </div>
      </div>
    </li>

    <% if params[:category].blank? %>
        <li class="list-group-item">
          <div class="row">
            <div class="col-md-12">
              <strong>Expiration Date:</strong>
              <% if @promotion_code.expiration_date.blank? %>
                  Does not expire.
              <% else %>
                  <%= @promotion_code.expiration_date %>
              <% end %>

            </div>
          </div>
        </li>

        <li class="list-group-item">
          <div class="row">
            <div class="col-md-12">
              <strong>Redeem count limit:</strong>
              <% if @promotion_code.redeem_count_limit == 0 %>
                  No limit
              <% else %>
                  <%= @promotion_code.redeem_count_limit %>
              <% end %>

            </div>
          </div>
        </li>
    <% else %>
        <li class="list-group-item">
          <div class="row">
            <div class="col-md-12">
              <strong>User:</strong>
              <%= @promotion_code.user.name %>
            </div>
          </div>
        </li>
    <% end %>
  </ul>
  <div class="panel-footer">
    <div class="row">
      <div class="col-xs-6">
        <%= link_to admin_promotion_promotion_codes_path(params[:promotion_id]), class: 'btn btn-default' do %>
            <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span> Back To Promo Codes
        <% end %>
        <%= link_to edit_admin_promotion_promotion_code_path(params[:promotion_id], @promotion_code, :category => params[:category]), class: 'btn btn-default' do %>
            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Edit
        <% end %>

      </div>
      <div class="col-xs-6 text-right">
        <%= link_to admin_promotion_promotion_code_path(params[:promotion_id], @promotion_code), method: :delete, data: {confirm: 'Are you sure?'}, class: 'btn btn-danger' do %>
            <i class="glyphicon glyphicon-trash"></i>
        <% end %>
      </div>
    </div>
  </div>
</div>
